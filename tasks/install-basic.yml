# usage ansible-playbook playbooks/install-basic.yml -e 'bm=1'
- name: Install basic package
  apt:
    pkg:
      - acl
      - dnsutils
      - nano
      - vim
      - jq
      - iptraf-ng
      - net-tools
      - traceroute
      - tcptraceroute
      - curl
      - fail2ban
      - nmap
      - p7zip
      - pbzip2
      - pigz
      - pixz
      - tcpdump
      - tree
      - bsd-mailx
      - psmisc
      - screen
      - sudo
      - rsync
      - less
      - git
    state: latest
    update_cache: yes

- name: Install package for Debian >=11 or Ubuntu >= 20.04
  apt:
    pkg:
      - bat
    state: latest
    update_cache: yes
  when: (ansible_distribution == "Debian" and ansible_distribution_major_version >= "11")
    or (ansible_distribution == "Ubuntu" and ansible_distribution_major_version >= "20")

- name: Install BM
  apt:
    pkg:
      - fdisk
      - cpio
      - fsarchiver
      - hdparm
      - lm-sensors
      - iotop
      - wakeonlan
    state: latest
  when: bm